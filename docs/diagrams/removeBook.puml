@startuml
participant User
participant InputHandler
participant BookList
participant LoanList
participant Formatter

User -> InputHandler: removeBook(commandArgs)
activate InputHandler
InputHandler -> BookList: findBookByTitle(bookTitle)
activate BookList
BookList --> InputHandler: toRemove
deactivate BookList
alt toRemove == null
    InputHandler -> Formatter: printBorderedMessage("Book not found")
    activate Formatter
    Formatter --> InputHandler
    deactivate Formatter
else
    InputHandler -> LoanList: removeLoansByBook(toRemove)
    activate LoanList
    LoanList --> InputHandler
    deactivate LoanList
    InputHandler -> BookList: removeBook(toRemove)
    activate BookList
    BookList --> InputHandler
    deactivate BookList
    InputHandler -> Formatter: printBorderedMessage("Removed book")
    activate Formatter
    Formatter --> InputHandler
    deactivate Formatter
end
InputHandler --> User
deactivate InputHandler
@enduml